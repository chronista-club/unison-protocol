# セキュリティポリシー

## サポート対象バージョン

セキュリティ脆弱性に対するパッチをリリースしています。パッチを受け取る対象となるバージョンは、CVSS v3.0 レーティングに基づきます：

| バージョン | サポート状況        |
| --------- | ------------------ |
| 0.1.x     | :white_check_mark: |
| < 0.1     | :x:                |

## 脆弱性の報告

Unison Protocol のセキュリティを重要視しています。プロジェクトにセキュリティ脆弱性を発見された場合は、責任ある方法での開示にご協力をお願いします。

### 報告方法

**セキュリティ脆弱性を公開の GitHub Issue で報告しないでください。**

代わりに、以下のメールアドレスにご報告ください：
- **メール**: security@chronista.club
- **件名**: [SECURITY] Unison Protocol - [簡単な説明]

### 報告に含める情報

報告には以下の情報を含めてください：

1. **問題の種類**（バッファオーバーフロー、SQLインジェクション、クロスサイトスクリプティングなど）
2. **問題に関連するソースファイルのフルパス**
3. **影響を受けるソースコードの場所**（タグ/ブランチ/コミットまたは直接URL）
4. **問題を再現するためのステップバイステップの手順**
5. **概念実証またはエクスプロイトコード**（可能な場合）
6. **問題の影響**（攻撃者がどのように悪用する可能性があるかを含む）
7. **再現に必要な特別な設定**

### 対応タイムライン

- **初期応答**: 48時間以内に脆弱性報告の受領を確認します
- **評価**: 7日以内に報告の初期評価を提供します
- **解決**: 修正に取り組み、進捗状況をお知らせします
- **開示**: 公開開示のタイミングについて調整します

## セキュリティ更新プロセス

セキュリティバグ報告を受け取った場合、以下を実施します：

1. 問題を**確認**し、影響を受けるバージョンを特定
2. 類似の問題がないかコードを**監査**
3. サポート対象のすべてのバージョンに対する修正を**開発**
4. できるだけ早くパッチを**リリース**

## セキュリティ関連の設定

### QUIC/TLS 設定

Unison Protocol は安全な通信のために TLS 1.3 を使用した QUIC を採用しています。以下を確認してください：

1. 本番環境では強力で適切に生成された証明書を使用
2. 秘密鍵をバージョン管理にコミットしない
3. 証明書を定期的にローテーション
4. 提供される証明書生成スクリプトは開発用途のみに使用

### ベストプラクティス

Unison Protocol を使用する際は：

1. **依存関係を最新に保つ**: 定期的に最新バージョンに更新
2. **セキュアなデフォルトを使用**: 絶対に必要でない限りセキュリティ機能を無効にしない
3. **入力を検証**: 常に入力データを検証およびサニタイズ
4. **露出を制限**: ファイアウォールとネットワークポリシーを使用して露出を制限
5. **監視**: 不審な活動のログと監視を実装

## 既知のセキュリティ考慮事項

### 開発用証明書

プロジェクトには開発用の自己署名証明書を生成するユーティリティが含まれています：
- これらは `assets/certs/` に配置されています
- **これらの証明書を本番環境で使用しないでください**
- 本番デプロイメントでは常に新しい証明書を生成してください

### 依存関係

以下を使用して依存関係の既知の脆弱性を定期的に監査しています：
- `cargo audit`
- GitHub の Dependabot アラート

## セキュリティ機能

Unison Protocol には複数のセキュリティ機能が含まれています：

1. **TLS 1.3 暗号化**: すべての QUIC 接続が暗号化
2. **証明書検証**: 適切な証明書チェーン検証
3. **入力検証**: プロトコルレベルのメッセージ検証
4. **メモリ安全性**: Rust のメモリ安全性保証を活用
5. **型安全性**: プロトコル実装全体での強い型付け

## 開示ポリシー

セキュリティ脆弱性を発見または認識した場合：

1. 迅速に問題を調査し検証します
2. 適切な修正を開発しテストします
3. サポート対象のすべてのバージョンにパッチをリリース
4. 以下を含むセキュリティアドバイザリを公開します：
   - 脆弱性の説明
   - CVSS スコア
   - 影響を受けるバージョン
   - パッチ適用済みバージョン
   - 回避策（ある場合）
   - 報告者へのクレジット

## お問い合わせ

セキュリティ関連の質問や懸念事項：
- **メール**: security@chronista.club
- **GitHub セキュリティアドバイザリ**: [アドバイザリを見る](https://github.com/chronista-club/unison-protocol/security/advisories)

## 謝辞

責任ある開示と Unison Protocol のセキュリティへの貢献に対して、以下の方々に感謝いたします：

*このリストはセキュリティ報告を受け取り対処するたびに更新されます。*

---

Unison Protocol とそのユーザーの安全を守るためのご協力に感謝します！